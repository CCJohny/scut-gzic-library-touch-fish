# scut-gzic-library-touch-fish
图书馆助理摸鱼工具

某天晚上在图书馆服务台值班，老师丢过来100个书号查位置，要是一个个查，查完手不得抽筋……

查了第一个之后端详了一下结果页的网址，直接条码号明文参数，那好办，批量替换爬下来不就好了！

但是我没学过Python啊……好在有ChatGPT，“有一个网址列表，抓取网页中的文本并储存”，然后就刷刷刷出了个代码，好，1.0版本就这么搞定了。

再学一下Python如何安装、request和bs4的引入，回车执行（吐槽，不要用微信传代码，把缩进全整没了），100个书号10秒抓完，半小时的活解决。

本来事情到这里就结束了……

……

……

……

被老师看到了我怎么实现的……于是，被要求把文件里剩下500本书也查了……

然后甲方来提要求了：不要用代码，要一个exe点了就能执行；输入文件只有书号，不用手动转成网址列表；生成的文件把无关文字全都删掉；……

好吧，查查调用文件路径规则、查查request参数化咋搞、查查Python数组语法规则、ChatGPT生成的变量名上下重复辨别一下咋区分、查查文字处理……

好好好，2.0版本上架，小赚5个工时的钱，然后继续负责售后技术指导……

……

……

- “这个程序最多能处理几本书啊？”
- “啊？按照Python规定上限大概是5亿本吧……”
- “好，这程序怎么报错啊？你来看看吧，这里有个新的查询列表……”

好家伙，这次来了个大活，13000个书号……

但是我的程序怎么会出错呢，试过各种各样的索书号都能返回结果，乱写的索书号也能返回个“无定位“的结果，怎么还会报错？

那就再打代码一本本查吧，查到第69个号码，问题来了——系统里有这本书，但是位置查询网页是空的……空的……空的……网页不是404，但是一个字也没有……

好家伙，那我程序输出的变量就是空的，怪不得报错，图书馆这什么系统……

这下只能上if语句，但是这个判定条件也是头大，什么情况能满足有字为true无字为false——request不对、request.text不对、td.text不对，那还能是啥……都没字了td.text怎么还不是空的……

那就，死马当活马医，直接顶层td当变量，欸，好了……

3.0完成，希望别出其他奇葩岔子了～
